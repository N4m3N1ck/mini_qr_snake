<canvas id=c width=256 height=256><script>let v=16;let q=c.getContext("2d");let s=[[8,8]],a=[4,4],[w,z]=[0,0];onkeydown=({key})=>[w,z]={[key]:[w,z],d:[w||1,0],a:[w||-1,0],s:[0,z||1],w:[0,z||-1]}[key];setInterval(()=>{s.unshift([(s[0][0]+w)&15,(s[0][1]+z)&15]);if(""+s[0]==a)do a=[~~(Math.random()*v),~~(Math.random()*v)];while(s.some(g=>""+g==a));else s.slice(1).some(g=>""+g==s[0])?s.splice(1):s.pop();q.clearRect(0,0,256,256);q.fillRect(a[0]*v,a[1]*v,v,v); s.forEach(([x,y])=>q.fillRect(x*v,y*v,v,v))},99)</script>
