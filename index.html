<canvas id=c width=99 height=99><script>let q=c.getContext`2d`,s=[[8,8]],a=[4,4],[w,z]=[0,0];onkeydown=({key})=>[w,z]={[key]:[w,z],d:[w||1,0],a:[w||-1,0],s:[0,z||1],w:[0,z||-1]}[key];setInterval(()=>{s.unshift([(s[0][0]+w)&7,(s[0][1]+z)&7]);x=Math.random;if(""+s[0]==a)do a=[~~(x()*8),~~(x()*8)];while(s.some(g=>""+g==a));else s.slice(1).some(g=>""+g==s[0])?s=[8,8]:s.pop();q.clearRect(0,0,99,99);q.fillRect(a[0]*8,a[1]*8,8,8);s.map(([x,y])=>q.fillRect(x*8,y*8,8,8))},99)</script>
